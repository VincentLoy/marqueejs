var m=Object.defineProperty;var f=(a,e,t)=>e in a?m(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var r=(a,e,t)=>f(a,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}})();class d{static validate(e){return this.validateSpeed(e.speed),this.validateDirection(e.direction),this.validateGap(e.gap),e.cloneCount!==void 0&&((!Number.isInteger(e.cloneCount)||e.cloneCount<0)&&(console.warn(`MarqueeJS: Requested ${e.cloneCount} clones, but minimum is ${this.MIN_CLONES}. Using ${this.MIN_CLONES} clones instead.`),e.cloneCount=this.MIN_CLONES),e.cloneCount>this.MAX_CLONES&&(console.warn(`MarqueeJS: Requested ${e.cloneCount} clones, but maximum is ${this.MAX_CLONES}. Using ${this.MAX_CLONES} clones instead.`),e.cloneCount=this.MAX_CLONES)),["up","down"].includes(e.direction||"")&&e.separator&&(console.warn("MarqueeJS: Separator is not supported for vertical directions. Separator will be ignored."),e.separator=""),e}static validateSpeed(e){if(e!==void 0&&(typeof e!="number"||e<=0))throw new Error("MarqueeJS: Speed must be a positive number")}static validateDirection(e){const t=["left","right","up","down"];if(e&&!t.includes(e))throw new Error(`MarqueeJS: Direction must be one of: ${t.join(", ")}`)}static validateGap(e){if(e!==void 0&&(typeof e!="number"||e<0))throw new Error("MarqueeJS: Gap must be a non-negative number")}}r(d,"MAX_CLONES",15),r(d,"MIN_CLONES",0);class v{constructor(e,t,i){r(this,"element");r(this,"wrapper");r(this,"options");r(this,"animationFrame",null);r(this,"lastTime",0);r(this,"elements",[]);this.element=e,this.wrapper=t,this.options=i,this.setupElements()}setupElements(){var n,o;const e=((n=this.wrapper.parentElement)==null?void 0:n.offsetWidth)||0,t=((o=this.wrapper.parentElement)==null?void 0:o.offsetHeight)||0,i=this.element.offsetWidth+this.options.gap,s=this.element.offsetHeight+this.options.gap;this.elements=Array.from(this.wrapper.children).map((l,u)=>{const p=l;let h=0;switch(this.options.direction){case"left":h=u*i;break;case"right":h=e-(u+1)*i;break;case"up":h=u*s;break;case"down":h=t-(u+1)*s;break}return p.style.position="absolute",p.style.top="0",p.style.left="0",p.style.transform=["left","right"].includes(this.options.direction)?`translateX(${h}px)`:`translateY(${h}px)`,p.style.transition="transform linear",{el:p,position:h}})}startAnimation(){this.lastTime=performance.now();const e=t=>{const i=t-this.lastTime;this.lastTime=t;const s=this.options.speed*i/1e3;this.elements.forEach(n=>{["left","right"].includes(this.options.direction)?this.updateHorizontalPosition(n,s):this.updateVerticalPosition(n,s)}),this.animationFrame=requestAnimationFrame(e)};this.animationFrame=requestAnimationFrame(e)}isPositionAvailable(e,t){const i=this.options.gap,s=["left","right"].includes(this.options.direction);return!this.elements.some(({el:n,position:o})=>{if(n===t)return!1;if(s){const l=n.offsetWidth;return Math.abs(o-e)<l+i}else{const l=n.offsetHeight;return Math.abs(o-e)<l+i}})}updateHorizontalPosition(e,t){var n;const i=((n=this.wrapper.parentElement)==null?void 0:n.offsetWidth)||0,s=e.el.offsetWidth;if(this.options.direction==="left"){if(e.position-=t,e.position+s<0){const o=i;this.isPositionAvailable(o,e.el)&&(e.position=o)}}else if(e.position+=t,e.position>i){const o=-s;this.isPositionAvailable(o,e.el)&&(e.position=o)}e.el.style.transform=`translateX(${e.position}px)`}updateVerticalPosition(e,t){var n;const i=((n=this.wrapper.parentElement)==null?void 0:n.offsetHeight)||0,s=e.el.offsetHeight;if(this.options.direction==="up"){if(e.position-=t,e.position+s<0){const o=i;this.isPositionAvailable(o,e.el)&&(e.position=o)}}else if(e.position+=t,e.position>i){const o=-s;this.isPositionAvailable(o,e.el)&&(e.position=o)}e.el.style.transform=`translateY(${e.position}px)`}stopAnimation(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=null),this.lastTime=0}recalculatePositions(){this.stopAnimation(),this.setupElements(),this.startAnimation()}}class g{constructor(e,t,i,s){r(this,"wrapper");r(this,"options");r(this,"handlers");this.wrapper=t,this.options=i,this.handlers=s,this.init()}init(){this.setupHoverEvents(),this.setupTouchEvents(),this.setupVisibilityEvents()}setupHoverEvents(){this.options.pauseOnHover&&(this.wrapper.addEventListener("mouseenter",this.handlers.pause),this.wrapper.addEventListener("mouseleave",this.handlers.resume))}setupTouchEvents(){let e,t;this.wrapper.addEventListener("touchstart",s=>{e=s.touches[0].clientX,t=s.touches[0].clientY,this.handlers.pause()},{passive:!0}),this.wrapper.addEventListener("touchend",()=>{this.handlers.resume()},{passive:!0});const i=s=>{const n=s.touches[0].clientX-e,o=s.touches[0].clientY-t;(Math.abs(n)>Math.abs(o)&&["left","right"].includes(this.options.direction)||Math.abs(o)>Math.abs(n)&&["up","down"].includes(this.options.direction))&&s.preventDefault()};["left","right","up","down"].includes(this.options.direction)?this.wrapper.addEventListener("touchmove",i,{passive:!1}):this.wrapper.addEventListener("touchmove",i,{passive:!0})}setupVisibilityEvents(){document.addEventListener("visibilitychange",()=>{document.hidden?this.handlers.pause():this.handlers.resume()})}destroy(){this.options.pauseOnHover&&(this.wrapper.removeEventListener("mouseenter",this.handlers.pause),this.wrapper.removeEventListener("mouseleave",this.handlers.resume)),this.wrapper.removeEventListener("touchstart",this.handlers.pause,{passive:!0}),this.wrapper.removeEventListener("touchend",this.handlers.resume,{passive:!0}),document.removeEventListener("visibilitychange",this.handlers.pause)}}class y{constructor(e,t={}){r(this,"element");r(this,"options");r(this,"container",null);r(this,"wrapper",null);r(this,"clones",[]);r(this,"isPlaying",!1);r(this,"animationManager",null);r(this,"eventManager",null);r(this,"separatorClasses",new WeakMap);r(this,"defaultOptions",{speed:100,direction:"left",pauseOnHover:!1,gap:20,cloneCount:4,separator:""});const i=typeof e=="string"?document.querySelector(e):e;if(!i)throw new Error("Invalid element selector");const s=d.validate(t);this.element=i,this.options={...this.defaultOptions,...s},this.init()}init(){this.setupWrapper(),this.cloneElements(),this.wrapper&&(this.animationManager=new v(this.element,this.wrapper,this.options),this.eventManager=new g(this.element,this.wrapper,this.options,{pause:()=>this.pause(),resume:()=>this.play()}),this.play())}setupWrapper(){var t;const e=this.element.offsetHeight;this.container=document.createElement("div"),this.container.style.width="100%",this.container.style.height=`${e}px`,this.container.style.overflow="hidden",this.container.style.position="relative",this.container.classList.add("marquee-container"),this.wrapper=document.createElement("div"),this.wrapper.style.position="relative",this.wrapper.style.width="100%",this.wrapper.style.height="100%",this.wrapper.classList.add("marquee-wrapper"),this.element.style.position="absolute",this.element.style.top="0",this.element.style.left="0",this.element.style.flexShrink="0",this.element.style.height=["up","down"].includes(this.options.direction)?"auto":`${e}px`,["left","right"].includes(this.options.direction)?this.element.style.marginRight=`${this.options.gap}px`:this.element.style.marginBottom=`${this.options.gap}px`,(t=this.element.parentNode)==null||t.insertBefore(this.container,this.element),this.container.appendChild(this.wrapper),this.wrapper.appendChild(this.element),this.addSeparatorStyle(this.element)}cloneElements(){var e;if(this.options.cloneCount!==0)for(let t=0;t<this.options.cloneCount;t++){const i=this.element.cloneNode(!0);i.setAttribute("aria-hidden","true"),i.style.flexShrink="0",["left","right"].includes(this.options.direction)?i.style.marginRight=`${this.options.gap}px`:i.style.marginBottom=`${this.options.gap}px`,this.addSeparatorStyle(i,t===this.options.cloneCount-1),this.clones.push(i),(e=this.wrapper)==null||e.appendChild(i)}}play(){this.isPlaying||(this.isPlaying=!0,this.startAnimation())}pause(){this.isPlaying&&(this.isPlaying=!1,this.stopAnimation())}startAnimation(){var e;(e=this.animationManager)==null||e.startAnimation()}stopAnimation(){var e;(e=this.animationManager)==null||e.stopAnimation()}destroy(){var e,t,i,s;this.pause(),(e=this.animationManager)==null||e.stopAnimation(),(t=this.eventManager)==null||t.destroy(),this.clones.forEach(n=>n.remove()),(i=this.wrapper)!=null&&i.parentNode&&(this.wrapper.parentNode.insertBefore(this.element,this.wrapper),(s=this.container)==null||s.remove()),document.querySelectorAll("style").forEach(n=>{var o;(o=n.textContent)!=null&&o.includes("marquee-item-")&&n.remove()}),this.clones.forEach(n=>{var l;const o=this.separatorClasses.get(n);o&&((l=document.querySelector(`style[data-for="${o}"]`))==null||l.remove())}),[this.element,...this.clones].forEach(n=>this.cleanupSeparatorStyle(n))}updateContent(e){this.element.innerHTML=e,this.clones.forEach(t=>{t.innerHTML=e}),this.wrapper&&this.animationManager&&this.animationManager.recalculatePositions(),this.addSeparatorStyle(this.element),this.clones.forEach((t,i)=>{this.addSeparatorStyle(t,i===this.clones.length-1)})}cleanupSeparatorStyle(e){Array.from(e.classList).filter(t=>t.startsWith("marquee-item-")).forEach(t=>{var i;e.classList.remove(t),(i=document.querySelector(`style[data-for="${t}"]`))==null||i.remove()})}addSeparatorStyle(e,t=!1){if(this.options.gap===0||this.options.cloneCount===0||!this.options.separator||["up","down"].includes(this.options.direction)){this.cleanupSeparatorStyle(e);return}this.cleanupSeparatorStyle(e);const i=`marquee-item-${Math.random().toString(36).substr(2,9)}`,s=document.createElement("style");e.classList.add("marquee-item"),e.classList.add(i),s.setAttribute("data-for",i),s.textContent=`
      .${i}::before {
        content: '${this.options.separator}';
        position: absolute;
        left: -${this.options.gap/2}px;
        transform: translateX(-50%);
        white-space: pre;
      }
    `,document.head.appendChild(s)}}function c(a,e={}){const t=new y(a,e);return{start(){t.play()},stop(){t.pause()},pause(){t.pause()},resume(){t.play()},destroy(){t.destroy()},updateContent(i){t.updateContent(i)}}}document.addEventListener("DOMContentLoaded",()=>{c(".marquee-basic",{speed:100,cloneCount:3}),c(".marquee-rtl",{direction:"right",speed:150,cloneCount:3}),c(".marquee-separator",{separator:"•",gap:40,cloneCount:8}),c(".marquee-vertical",{direction:"up",speed:80,cloneCount:4}),c(".marquee-fast",{speed:200,pauseOnHover:!0,cloneCount:3})});
