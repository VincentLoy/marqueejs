{"version":3,"file":"marqueejs.umd.cjs","sources":["../src/core/OptionsValidator.ts","../src/core/AnimationManager.ts","../src/core/EventManager.ts","../src/core/Marquee.ts","../src/index.ts"],"sourcesContent":["import type { MarqueeOptions } from '../types'\n\nexport class OptionsValidator {\n  static validate(options: MarqueeOptions): void {\n    this.validateSpeed(options.speed)\n    this.validateDirection(options.direction)\n    this.validateGap(options.gap)\n    this.validateCloneCount(options.cloneCount)\n    this.validateEasing(options.easing)\n  }\n\n  private static validateSpeed(speed: number | undefined): void {\n    if (speed !== undefined && (typeof speed !== 'number' || speed <= 0)) {\n      throw new Error('Speed must be a positive number')\n    }\n  }\n\n  private static validateDirection(direction: string | undefined): void {\n    const validDirections = ['left', 'right', 'up', 'down']\n    if (direction && !validDirections.includes(direction)) {\n      throw new Error(`Direction must be one of: ${validDirections.join(', ')}`)\n    }\n  }\n\n  private static validateGap(gap: number | undefined): void {\n    if (gap !== undefined && (typeof gap !== 'number' || gap < 0)) {\n      throw new Error('Gap must be a non-negative number')\n    }\n  }\n\n  private static validateCloneCount(count: number | undefined): void {\n    if (count !== undefined && (!Number.isInteger(count) || count < 1)) {\n      throw new Error('Clone count must be a positive integer')\n    }\n  }\n\n  private static validateEasing(easing: string | undefined): void {\n    const validEasings = ['linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out']\n    if (easing && !validEasings.includes(easing)) {\n      throw new Error(`Easing must be one of: ${validEasings.join(', ')}`)\n    }\n  }\n}\n","import type { MarqueeOptions } from '../types'\n\nexport class AnimationManager {\n  private element: HTMLElement\n  private wrapper: HTMLElement\n  private options: Required<MarqueeOptions>\n  private animationFrame: number | null = null\n  private lastTime: number = 0\n  private elements: Array<{ el: HTMLElement; position: number }> = []\n\n  constructor(element: HTMLElement, wrapper: HTMLElement, options: Required<MarqueeOptions>) {\n    this.element = element\n    this.wrapper = wrapper\n    this.options = options\n    this.setupElements()\n  }\n\n  private setupElements(): void {\n    const containerWidth = this.wrapper.parentElement?.offsetWidth || 0\n    const containerHeight = this.wrapper.parentElement?.offsetHeight || 0\n    const elementWidth = this.element.offsetWidth + this.options.gap\n    const elementHeight = this.element.offsetHeight + this.options.gap\n\n    // Convert wrapper children to array including original element\n    this.elements = Array.from(this.wrapper.children).map((el, index) => {\n      const element = el as HTMLElement\n      let position = 0\n\n      // Calculate initial position based on direction and index\n      switch (this.options.direction) {\n        case 'left':\n          position = index * elementWidth\n          break\n        case 'right':\n          position = containerWidth - ((index + 1) * elementWidth)\n          break\n        case 'up':\n          position = index * elementHeight\n          break\n        case 'down':\n          position = containerHeight - ((index + 1) * elementHeight)\n          break\n      }\n\n      // Set initial styles\n      element.style.position = 'absolute'\n      element.style.top = '0'\n      element.style.left = '0'\n      element.style.transform = ['left', 'right'].includes(this.options.direction)\n        ? `translateX(${position}px)`\n        : `translateY(${position}px)`\n      element.style.transition = 'transform linear'\n\n      return { el: element, position }\n    })\n  }\n\n  public startAnimation(): void {\n    this.lastTime = performance.now()\n    \n    const animate = (currentTime: number) => {\n      const deltaTime = currentTime - this.lastTime\n      this.lastTime = currentTime\n      const movement = (this.options.speed * deltaTime) / 1000\n\n      // Update each element's position independently\n      this.elements.forEach((item) => {\n        if (['left', 'right'].includes(this.options.direction)) {\n          this.updateHorizontalPosition(item, movement)\n        } else {\n          this.updateVerticalPosition(item, movement)\n        }\n      })\n\n      this.animationFrame = requestAnimationFrame(animate)\n    }\n\n    this.animationFrame = requestAnimationFrame(animate)\n  }\n\n  private isPositionAvailable(newPosition: number, currentElement: HTMLElement): boolean {\n    const threshold = this.options.gap\n    const isHorizontal = ['left', 'right'].includes(this.options.direction)\n    \n    return !this.elements.some(({ el, position }) => {\n      if (el === currentElement) return false\n      \n      if (isHorizontal) {\n        const elementWidth = el.offsetWidth\n        return Math.abs(position - newPosition) < (elementWidth + threshold)\n      } else {\n        const elementHeight = el.offsetHeight\n        return Math.abs(position - newPosition) < (elementHeight + threshold)\n      }\n    })\n  }\n\n  private updateHorizontalPosition(item: { el: HTMLElement; position: number }, movement: number): void {\n    const containerWidth = this.wrapper.parentElement?.offsetWidth || 0\n    const elementWidth = item.el.offsetWidth\n\n    if (this.options.direction === 'left') {\n      item.position -= movement\n      \n      if (item.position + elementWidth < 0) {\n        const newPosition = containerWidth\n        // Only reset if there's space available\n        if (this.isPositionAvailable(newPosition, item.el)) {\n          item.position = newPosition\n        }\n      }\n    } else {\n      item.position += movement\n      \n      if (item.position > containerWidth) {\n        const newPosition = -elementWidth\n        if (this.isPositionAvailable(newPosition, item.el)) {\n          item.position = newPosition\n        }\n      }\n    }\n\n    item.el.style.transform = `translateX(${item.position}px)`\n  }\n\n  private updateVerticalPosition(item: { el: HTMLElement; position: number }, movement: number): void {\n    const containerHeight = this.wrapper.parentElement?.offsetHeight || 0\n    const elementHeight = item.el.offsetHeight\n\n    if (this.options.direction === 'up') {\n      item.position -= movement\n      if (item.position + elementHeight < 0) {\n        const newPosition = containerHeight\n        if (this.isPositionAvailable(newPosition, item.el)) {\n          item.position = newPosition\n        }\n      }\n    } else {\n      item.position += movement\n      if (item.position > containerHeight) {\n        const newPosition = -elementHeight\n        if (this.isPositionAvailable(newPosition, item.el)) {\n          item.position = newPosition\n        }\n      }\n    }\n\n    item.el.style.transform = `translateY(${item.position}px)`\n  }\n\n  public stopAnimation(): void {\n    if (this.animationFrame) {\n      cancelAnimationFrame(this.animationFrame)\n      this.animationFrame = null\n    }\n    this.lastTime = 0\n  }\n}\n","import type { MarqueeOptions } from '../types'\n\nexport class EventManager {\n  private wrapper: HTMLElement\n  private options: Required<MarqueeOptions>\n  private handlers: {\n    pause: () => void\n    resume: () => void\n  }\n\n  constructor(\n    _element: HTMLElement, \n    wrapper: HTMLElement, \n    options: Required<MarqueeOptions>,\n    handlers: { pause: () => void; resume: () => void }\n  ) {\n    this.wrapper = wrapper\n    this.options = options\n    this.handlers = handlers\n    this.init()\n  }\n\n  private init(): void {\n    this.setupHoverEvents()\n    this.setupTouchEvents()\n    this.setupVisibilityEvents()\n  }\n\n  private setupHoverEvents(): void {\n    if (this.options.pauseOnHover) {\n      this.wrapper.addEventListener('mouseenter', this.handlers.pause)\n      this.wrapper.addEventListener('mouseleave', this.handlers.resume)\n    }\n  }\n\n  private setupTouchEvents(): void {\n    let touchStartX: number\n    let touchStartY: number\n\n    // Add passive touch start listener\n    this.wrapper.addEventListener('touchstart', (e: TouchEvent) => {\n      touchStartX = e.touches[0].clientX\n      touchStartY = e.touches[0].clientY\n      this.handlers.pause()\n    }, { passive: true })\n\n    // Add passive touch end listener\n    this.wrapper.addEventListener('touchend', () => {\n      this.handlers.resume()\n    }, { passive: true })\n\n    // Separate touch move handler that can prevent default\n    const handleTouchMove = (e: TouchEvent) => {\n      const deltaX = e.touches[0].clientX - touchStartX\n      const deltaY = e.touches[0].clientY - touchStartY\n      \n      if (Math.abs(deltaX) > Math.abs(deltaY) && \n         ['left', 'right'].includes(this.options.direction)) {\n        e.preventDefault()\n      } else if (Math.abs(deltaY) > Math.abs(deltaX) && \n                ['up', 'down'].includes(this.options.direction)) {\n        e.preventDefault()\n      }\n    }\n\n    // Add non-passive touch move listener only when needed\n    if (['left', 'right', 'up', 'down'].includes(this.options.direction)) {\n      this.wrapper.addEventListener('touchmove', handleTouchMove, { passive: false })\n    } else {\n      this.wrapper.addEventListener('touchmove', handleTouchMove, { passive: true })\n    }\n  }\n\n  private setupVisibilityEvents(): void {\n    document.addEventListener('visibilitychange', () => {\n      if (document.hidden) {\n        this.handlers.pause()\n      } else {\n        this.handlers.resume()\n      }\n    })\n  }\n\n  public destroy(): void {\n    if (this.options.pauseOnHover) {\n      this.wrapper.removeEventListener('mouseenter', this.handlers.pause)\n      this.wrapper.removeEventListener('mouseleave', this.handlers.resume)\n    }\n    \n    this.wrapper.removeEventListener('touchstart', this.handlers.pause, { passive: true })\n    this.wrapper.removeEventListener('touchend', this.handlers.resume, { passive: true })\n    document.removeEventListener('visibilitychange', this.handlers.pause)\n  }\n}\n","import type { MarqueeOptions } from '../types';\nimport { OptionsValidator } from './OptionsValidator';\nimport { AnimationManager } from './AnimationManager';\nimport { EventManager } from './EventManager';\n\nexport class Marquee {\n  private element: HTMLElement;\n  private options: Required<MarqueeOptions>;\n  private container: HTMLElement | null = null;\n  private wrapper: HTMLElement | null = null;\n  private clones: HTMLElement[] = [];\n  private isPlaying: boolean = false;\n  private animationManager: AnimationManager | null = null;\n  private eventManager: EventManager | null = null;\n\n  private defaultOptions: Required<MarqueeOptions> = {\n    speed: 100,\n    direction: 'left',\n    pauseOnHover: true,\n    gap: 20,\n    easing: 'linear',\n    cloneCount: 1,\n    separator: ' - '\n  };\n\n  constructor(selector: string | HTMLElement, options: MarqueeOptions = {}) {\n    const element = typeof selector === 'string' \n      ? document.querySelector(selector) \n      : selector;\n\n    if (!element) {\n      throw new Error('Invalid element selector');\n    }\n\n    OptionsValidator.validate(options);\n    this.element = element as HTMLElement;\n    this.options = { ...this.defaultOptions, ...options };\n    this.init();\n  }\n\n  private init(): void {\n    this.setupWrapper();\n    this.cloneElements();\n    if (this.wrapper) {\n      this.animationManager = new AnimationManager(this.element, this.wrapper, this.options);\n      this.eventManager = new EventManager(\n        this.element,\n        this.wrapper,\n        this.options,\n        {\n          pause: () => this.pause(),\n          resume: () => this.play()\n        }\n      );\n      // Start animation immediately\n      this.play();\n    }\n  }\n\n  private setupWrapper(): void {\n    const originalHeight = this.element.offsetHeight\n\n    // Create outer container\n    this.container = document.createElement('div');\n    this.container.style.width = '100%';\n    this.container.style.height = `${originalHeight}px`;\n    this.container.style.overflow = 'hidden';\n    this.container.style.position = 'relative';\n    this.container.classList.add('marquee-container');\n    \n    // Create inner wrapper\n    this.wrapper = document.createElement('div');\n    this.wrapper.style.position = 'relative'; // Changed from absolute\n    this.wrapper.style.width = '100%';\n    this.wrapper.style.height = '100%';\n    this.wrapper.classList.add('marquee-wrapper');\n    \n    // Setup element styles\n    this.element.style.position = 'absolute';\n    this.element.style.top = '0';\n    this.element.style.left = '0';\n    this.element.style.flexShrink = '0';\n    this.element.style.height = ['up', 'down'].includes(this.options.direction) ? 'auto' : `${originalHeight}px`;\n    if (['left', 'right'].includes(this.options.direction)) {\n      this.element.style.marginRight = `${this.options.gap}px`;\n    } else {\n      this.element.style.marginBottom = `${this.options.gap}px`;\n    }\n    \n    // Insert into DOM\n    this.element.parentNode?.insertBefore(this.container, this.element);\n    this.container.appendChild(this.wrapper);\n    this.wrapper.appendChild(this.element);\n  }\n\n  private cloneElements(): void {\n    if (this.options.cloneCount === 0) return;\n    for (let i = 0; i < this.options.cloneCount; i++) {\n      const clone = this.element.cloneNode(true) as HTMLElement;\n      clone.setAttribute('aria-hidden', 'true');\n      clone.style.flexShrink = '0';\n      if (['left', 'right'].includes(this.options.direction)) {\n        clone.style.marginRight = `${this.options.gap}px`;\n      } else {\n        clone.style.marginBottom = `${this.options.gap}px`;\n      }\n      this.clones.push(clone);\n      this.wrapper?.appendChild(clone);\n    }\n  }\n\n  public play(): void {\n    if (this.isPlaying) return;\n    this.isPlaying = true;\n    this.startAnimation();\n  }\n\n  public pause(): void {\n    if (!this.isPlaying) return;\n    this.isPlaying = false;\n    this.stopAnimation();\n  }\n\n  private startAnimation(): void {\n    this.animationManager?.startAnimation();\n  }\n\n  private stopAnimation(): void {\n    this.animationManager?.stopAnimation();\n  }\n\n  public destroy(): void {\n    this.pause();\n    this.animationManager?.stopAnimation();\n    this.eventManager?.destroy();\n    this.clones.forEach(clone => clone.remove());\n    if (this.wrapper?.parentNode) {\n      this.wrapper.parentNode.insertBefore(this.element, this.wrapper);\n      this.container?.remove();\n    }\n  }\n}","import { Marquee } from './core/Marquee'\nimport type { MarqueeOptions, MarqueeInstance } from './types'\n\nexport function marqueejs(selector: string, options: MarqueeOptions = {}): MarqueeInstance {\n  const instance = new Marquee(selector, options)\n  \n  return {\n    start() { instance.play() },\n    stop() { instance.pause() },\n    pause() { instance.pause() },\n    resume() { instance.play() },\n    destroy() { instance.destroy() }\n  }\n}\n\nexport type { MarqueeOptions, MarqueeInstance }\n"],"names":["OptionsValidator","options","speed","direction","validDirections","gap","count","easing","validEasings","AnimationManager","element","wrapper","__publicField","containerWidth","_a","containerHeight","_b","elementWidth","elementHeight","el","index","position","animate","currentTime","deltaTime","movement","item","newPosition","currentElement","threshold","isHorizontal","EventManager","_element","handlers","touchStartX","touchStartY","e","handleTouchMove","deltaX","deltaY","Marquee","selector","originalHeight","i","clone","_c","_d","marqueejs","instance"],"mappings":"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"}